<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8"/>
        <title>Books List</title>
        <link rel="stylesheet"
              href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    </head>
    <body>
        <div th:replace="fragments/header :: header"></div>
        <h1 align="center">Books list</h1>
        <br/>
        <a href="/book_new">Add new book</a>
        <br/>
        <br/>
    <table border="1" cellpadding="10">
        <thead>
            <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Years of release</th>
                <th>Description</th>
                <th>Author</th>
                <th>Category</th>
                <th>Publisher</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="book : ${books}">
                <td th:text="${book.id}">Id</td>
                <td th:text="${book.title}">Title</td>
                <td th:text="${book.year_of_release}">Years of release</td>
                <td th:text="${book.description}">Description</td>
                <td th:text="${book.author?.first_name+' '+book.author.surname}"></td>  <!--  ? pominiecie wartosci null, program sie nie wysypuje-->
                <td th:text="${book.category?.name}"></td>
                <td th:text="${book.publisher?.name}"></td>
                <td>
                    <a th:href="@{/book_edit/{id}(id=${book.id})}">Edit</a>
                    &nbsp;&nbsp;&nbsp;
                    <a th:href="@{/book_delete/{id}(id=${book.id})}">Delete</a>
                </td>
            </tr>
        </tbody>
    </table>

        <div th:replace="fragments/footer :: footer"></div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
                integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
                crossorigin="anonymous">
        </script>
        <script
                src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js">
        </script>
    </body>
</html>